<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>⚾ 智慧本壘板</title>
  <link rel="stylesheet" href="./styles.css" />
  <style>
    /* 僅為事件清單做最小化控制，不影響原有主題與記分板樣式 */
    #eventList{max-height:240px; overflow:auto;}
    .mono{white-space:pre; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;}
  </style>
</head>
<body>
  <header class="header">
    <h1>⚾ 智慧本壘板</h1>
    <div id="version">資料版本：—</div>
  </header>

  <main class="layout">
    <!-- 左側：記分 + 控制 + 事件 -->
    <section class="card">
      <h2>記分板（逐局）</h2>
      <div id="scoreboard">（載入中…）</div>

      <div class="toolbar">
        <button id="btnPrev">⏮ 上一步</button>
        <button id="btnPlay">▶️ 播放</button>
        <button id="btnNext">⏭ 下一步</button>
        <label>速度
          <select id="speed">
            <option value="1000">慢</option>
            <option value="700" selected>中</option>
            <option value="400">快</option>
          </select>
        </label>
      </div>

      <!-- 流水事件編號 + 現在事件 -->
      <div id="evtCounter">事件：0 / 0</div>
      <div id="nowEvent" class="mono">等待播放…</div>

      <h2 style="margin-top:16px;">事件清單</h2>
      <pre id="eventList" class="mono">（載入中…）</pre>
    </section>

    <!-- 右側：場上狀態 -->
    <aside class="card">
      <h2>場上狀態</h2>

      <!-- 壘包圖（由 app.js 重新渲染） -->
      <div id="bases" style="margin-top:8px">
        <svg id="diamond" viewBox="0 0 260 260" aria-label="壘包菱形">
          <path class="diamond-line" d="M130,24 L236,130 L130,236 L24,130 Z"/>
          <rect x="118" y="36" width="24" height="24" transform="rotate(45 130 48)" class="base-node" />
          <rect x="212" y="118" width="24" height="24" transform="rotate(45 224 130)" class="base-node" />
          <rect x="36" y="118" width="24" height="24" transform="rotate(45 48 130)" class="base-node" />
        </svg>
      </div>

      <!-- 局數 / 攻擊方 -->
      <div class="chips">
        <span class="chip" id="pillInning">局數—</span>
        <span class="chip" id="pillBat">攻擊方—</span>
      </div>

      <!-- 好壞球與出局燈 -->
      <div class="lights">
        <div class="row-light"><span class="label">好球</span><span class="dots-strikes"></span></div>
        <div class="row-light"><span class="label">壞球</span><span class="dots-balls"></span></div>
        <div class="row-light"><span class="label">出局</span><span class="outs"><span class="dots"></span></span></div>
      </div>
    </aside>
  </main>

  <script type="module" src="./app.js"></script>
</body>
</html>
